CREATE DATABASE DEKYO

USE DEKYO;

CREATE TABLE USUARIOS(
id_usuario INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
nombre1 VARCHAR(60) NOT NULL,
nomb_artistico VARCHAR(60),
apellido1 VARCHAR(60) NOT NULL,
)

CREATE TABLE CANCIONES(
id_cancion INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
titulo_cancion VARCHAR(150) NOT NULL,
gen_cancion VARCHAR(60) NOT NULL,
formato VARCHAR(60) NOT NULL,
)

CREATE TABLE ALBUMES(
id_album INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
nomb_album VARCHAR(150) NOT NULL,
num_cancion INT NOT NULL,
año_lanzamiento DATE NOT NULL,
foto_portada VARCHAR(150) NOT NULL,
)

CREATE TABLE HISTORIAL(
id_historial INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
cancion VARCHAR(150) NOT NULL,
genero VARCHAR(60) NOT NULL,
artista VARCHAR(60) NOT NULL,
fecha DATETIME NOT NULL
)

CREATE TABLE PLAYLIST(
id_playlist INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
nomb_playlist VARCHAR(150) NOT NULL,
nro_canciones INT NOT NULL,
nro_de_playlist INT NOT NULL,
fecha_creacion DATETIME NOT NULL,
)

--Tabla Intermedia
CREATE TABLE USUARIO_CANCION(
id_usuarioFK INT,
id_cancionFK1 INT,
CONSTRAINT FK_FUS FOREIGN KEY(id_usuarioFK) REFERENCES USUARIOS(id_usuario),
CONSTRAINT FK_FCAN FOREIGN KEY(id_cancionFK1) REFERENCES CANCIONES(id_cancion)
)

--Tabla Intermedia
CREATE TABLE CANCION_ALBUM(
id_cancionFK2 INT,
id_albumFK2 INT,
CONSTRAINT FK_FCAN2 FOREIGN KEY(id_cancionFK2) REFERENCES CANCIONES(id_cancion),
CONSTRAINT FK_FALB FOREIGN KEY(id_albumFK2) REFERENCES ALBUMES(id_album)
)

--Tabla Intermedia
CREATE TABLE CANCION_HISTORIAL(
id_cancionFK3 INT,
id_historialFK INT,
CONSTRAINT FK_FCAN3 FOREIGN KEY(id_cancionFK3) REFERENCES CANCIONES(id_cancion),
CONSTRAINT FK_FHIS FOREIGN KEY(id_historialFK) REFERENCES HISTORIAL(id_historial), 
)

--Tabla Intermedia
CREATE TABLE CANCION_PLAYLIST(
id_cancionFK4 INT,
id_playlistFK INT,
CONSTRAINT FK_FCAN4 FOREIGN KEY(id_cancionFK4) REFERENCES CANCIONES(id_cancion),
CONSTRAINT FK_FPLAY FOREIGN KEY(id_playlistFK) REFERENCES PLAYLIST(id_playlist)
)

INSERT INTO USUARIOS VALUES(1'Victoria', 'Martinez','Kai')
INSERT INTO USUARIOS VALUES(2,'Tricia', 'Mcdowell','Miles')
INSERT INTO USUARIOS VALUES(3,'Robert', 'Watkins','Cole')
INSERT INTO USUARIOS VALUES(4,'James', 'Jones','Cash')
INSERT INTO USUARIOS VALUES(5,'Alex', 'Morgan','Jay')

INSERT INTO CANCIONES VALUES(1,'24K MAGIC', 'POP','MP3')
INSERT INTO CANCIONES VALUES(2,'DARK NECESSITIES', 'ROCK','FLAC')
INSERT INTO CANCIONES VALUES(3,'BANG BANG','PUNK-PUNK ROCK','WMA')
INSERT INTO CANCIONES VALUES(4,'HEATHENS', 'INDIE/ALTERNATIVO','OGG')
INSERT INTO CANCIONES VALUES(5,'CLOSER' , 'ELECTRÓNICA','MP3')

INSERT INTO CANCIONES VALUES(2,'#ElDisco', 5, 2017,'jpg')
INSERT INTO CANCIONES VALUES(3,'Universo', 12, 2015, 'png')	
INSERT INTO CANCIONES VALUES(4,'Spoiler', 7, 2010,'jpg') 
INSERT INTO CANCIONES VALUES(5,'Everyday life', 6, 2006,'.png') 
INSERT INTO CANCIONES VALUES(1,'Pero no pasa nada', 8, 2000, '.jpg') 

INSERT INTO CANCIONES VALUES(4,'YEMEN', ' RAP/HIP HOP','OGG','KASE.O', 17/09/2017)
INSERT INTO CANCIONES VALUES(1,'STARBOY', 'R&B','MP3', 'THE WEEKND FT. DAFT PUNK', 01/03/2017)
INSERT INTO CANCIONES VALUES(3,'HEATHENS','INDIE/ALTERNATIVO','WMA','Cole', 29/08/2017)
INSERT INTO CANCIONES VALUES(5,'CLOSER' , 'ELECTRÓNICA','MP3','Jay', 10/03/2017)
INSERT INTO CANCIONES VALUES(2,'DARK NECESSITIES', 'ROCK','FLAC','Miles', 11/03/2017)
